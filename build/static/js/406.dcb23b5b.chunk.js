(self.webpackChunkassistance_report=self.webpackChunkassistance_report||[]).push([[406],{88719:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>xi});var n=t(96446),s=t(28757),r=t(26240),o=t(30344),l=t(65043),a=t(92314),c=t(85865),d=t(17392),x=t(14853),h=t(74681),m=t(70579);const u=()=>{const[e,i]=(0,l.useState)(3);return(0,l.useEffect)((()=>{document.addEventListener("scroll",(()=>{const e=window.scrollY;i(e>60?1:3)}))}),[]),(0,m.jsx)(a.A,{elevation:0,color:"transparent",sx:{py:5,zIndex:e},children:(0,m.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,m.jsxs)(n.A,{children:[(0,m.jsx)(c.A,{variant:"h2",component:"h1",color:"primary.contrastText",sx:{mb:1},children:x.oO.appName}),(0,m.jsx)(c.A,{sx:{color:h.A[100]},children:x.oO.appDescription})]}),(0,m.jsx)(n.A,{sx:{ml:"auto"},children:(0,m.jsx)("a",{href:x.oO.appRepo,target:"_blank",children:(0,m.jsx)(d.A,{children:(0,m.jsx)("svg",{fill:"#fff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px"})})})})]})})},p=t.p+"static/media/background_header.5dc9eb5b34be6acf5747.jpg",j=()=>(0,m.jsx)(n.A,{component:"footer",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",pb:8,pt:4},children:(0,m.jsx)(c.A,{variant:"subtitle1",children:"Paulo Teixeira Service"})}),g=e=>{let{children:i}=e;const t=(0,r.A)(),l=(0,o.A)(t.breakpoints.down("sm"));return(0,m.jsxs)(n.A,{children:[(0,m.jsx)(u,{}),(0,m.jsx)(n.A,{sx:{width:"100%",position:"fixed",backgroundColor:"primary.main",height:l?300:400,backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat"}}),(0,m.jsx)(n.A,{sx:{position:"relative",pt:"130px",pb:10,zIndex:2},children:(0,m.jsx)(s.A,{maxWidth:"lg",children:i})}),(0,m.jsx)(j,{})]})};var f=t(76651),v=t(89465);const b=()=>(0,l.useContext)(v.P),y=e=>{let{style:i,children:t,fixed:s,onClick:r}=e;const{editable:o,debug:l}=b();return o?(0,m.jsx)(n.A,{onClick:r,sx:i,children:t}):(0,m.jsx)(f.Ss,{fixed:s,debug:!1,style:i,children:t})},A=e=>{let{children:i}=e;const{editable:t}=b();return t?(0,m.jsx)(y,{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between"},children:i}):(0,m.jsx)(f.YW,{size:"A4",style:{display:"flex",flexDirection:"column"},children:i})},C=e=>{let{children:i}=e;const{editable:t}=b();return t?(0,m.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between",height:"100%"},children:i}):(0,m.jsx)(f.yo,{children:i})},S={display:"flex",flexDirection:"column",flex:1,padding:"40px",borderRadius:3,overflow:"hidden"},w=e=>{let{children:i}=e;const{editable:t,debug:s}=b();return t?(0,m.jsx)(n.A,{sx:S,children:i}):(0,m.jsx)(f.Ss,{wrap:!0,debug:!1,style:{padding:"22px 28px",display:"flex",flexDirection:"column",flex:1},children:i})};var I=t(52082);const D=e=>e*x.gz+"px",k=e=>{switch(e){case"h1":return 26;case"h2":return 22;case"h3":return 20;case"h4":return 16;case"h5":return 14;case"h6":return 10.75;case"body1":default:return 10;case"body2":case"subtitle1":return 9.5;case"subtitle2":return 8.4}},E=e=>{var i,t,n,s;switch(e){case"primary":return String(null===(i=I.A.text)||void 0===i?void 0:i.primary);case"secondary":return String(null===(t=I.A.text)||void 0===t?void 0:t.secondary);case"disabled":return String(null===(n=I.A.text)||void 0===n?void 0:n.disabled);default:return String(null===(s=I.A.text)||void 0===s?void 0:s.primary)}},T=e=>{const{editable:i,debug:t}=b(),{variant:n,color:s,style:r,children:o,fixed:l}=e;return i?(0,m.jsx)(c.A,{sx:{...r},variant:n,children:o}):(0,m.jsx)(f.EY,{fixed:l,debug:!1,style:[{lineHeight:1.5,fontSize:k(n),color:E(s)},{...r}],children:o})};T.defaultProps={variant:"body1",color:"primary"};const O=T;var W=t(12008),M=t(90035),z=t(26600),P=t(35316),R=t(29347),B=t(11906),F=t(74802);const L=(0,l.forwardRef)(((e,i)=>(0,m.jsx)(W.A,{unmountOnExit:!0,ref:i,...e}))),_=e=>{const{sx:i,open:t,icon:s,title:r,onClose:o,children:l,paperStyles:a,onConfirm:c,confirmButtonText:x,disableCloseButton:h,disableCancelButton:u,cancelButtonText:p,...j}=e;return(0,m.jsxs)(M.A,{open:t,TransitionComponent:L,keepMounted:!0,onClose:o,PaperProps:{elevation:1,sx:{position:"relative",m:0,px:{xs:6,md:9},py:{xs:3,md:6},...a}},sx:{...i},...j,children:[s&&(0,m.jsx)(n.A,{sx:{py:3,pb:2,textAlign:"center",mb:1.5},children:s}),(0,m.jsx)(z.A,{children:r}),!h&&(0,m.jsx)(d.A,{onClick:o,sx:{position:"absolute",top:e=>e.spacing(2.6),right:e=>e.spacing(3)},children:(0,m.jsx)(F.A,{sx:{fontSize:22}})}),(0,m.jsx)(P.A,{children:l}),(0,m.jsxs)(R.A,{sx:{justifyContent:"space-between"},children:[!u&&(0,m.jsx)(B.A,{onClick:o,size:"medium",variant:"text",children:p}),(0,m.jsx)(B.A,{onClick:c,size:"medium",children:x})]})]})};_.defaultProps={disableCancelButton:!1,cancelButtonText:"Cancel",confirmButtonText:"Ok"};const N=_,V=e=>{let{children:i}=e;const{editable:t}=b();return t?(0,m.jsx)(c.A,{variant:"subtitle2",sx:{color:"text.disabled",letterSpacing:"0.7px",mb:.7,textTransform:"uppercase",fontWeight:"bold"},children:i}):(0,m.jsx)(O,{variant:"subtitle2",color:"disabled",style:{letterSpacing:"0.7px",textTransform:"uppercase",fontWeight:"bold",marginBottom:t?.7:D(.7)},children:i})};var q=t(69859);const G=(0,t(34535).Ay)(q.A)((e=>{let{theme:i}=e;return{padding:"0 !important","& .MuiInputBase-input.MuiInputBase-inputSizeSmall":{padding:"2.4px 8px !important"},"& .MuiInputBase-sizeSmall.MuiInputBase-multiline":{padding:"2.4px 8px !important"},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid transparent !important"},"&:hover":{backgroundColor:i.palette.primary.light,"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #bed1e4 !important"}},"&.Mui-focused":{backgroundColor:i.palette.primary.light,"& .MuiOutlinedInput-notchedOutline":{border:"1px solid #bed1e4 !important"}}}})),H=e=>{const{editable:i,debug:t}=b(),{variant:n,color:s,value:r,style:o,...l}=e;return i?(0,m.jsx)(G,{size:"small",value:String(r),sx:{width:"90%",...o},...l}):(0,m.jsx)(f.EY,{debug:!1,style:[{lineHeight:1.5,fontSize:k(n),color:E(s)},{...o}],children:String(r)})};H.defaultProps={variant:"body1",color:"primary"};const J=H,X=()=>(0,m.jsx)(n.A,{className:"editable-marker",sx:{border:"2px dashed transparent",backgroundColor:"transparent",position:"absolute",top:0,width:"100%",height:"100%",borderRadius:1,transform:"scaleX(1.075) scaleY(1.15)",transition:e=>e.transitions.create(["transform","background-color","border"])}});var Y=t(92737);const U=()=>{const{invoice:e,setInvoice:i}=(0,l.useContext)(Y.d);return{invoice:e,setInvoice:i,reset:()=>i(Y.u),handleChangeTempo:(t,n,s)=>{const{temposServico:r}=e,o={...r[t],[n]:s};i({...e,temposServico:((e,i,t)=>[...e.slice(0,i),{...e[i],...t},...e.slice(i+1)])(e.temposServico,t,o)})},append:t=>{const n=e.temposServico.concat(t);i({...e,temposServico:n})},remove:t=>{const n=e.temposServico.filter(((e,i)=>i!==t));i({...e,temposServico:n})},updateCliente:t=>{i({...e,cliente:t})},updateEquipamento:t=>{i({...e,equipamento:t})},updateMateriais:t=>{i({...e,materiais:t})},updateServicosEfetuados:t=>{i({...e,servicosEfetuados:t})},updateSolicitacaoAssistencia:t=>{i({...e,solicitacaoAssistencia:t})},updateValidacoes:t=>{i({...e,validacoes:t})},updateObservacoes:t=>{i({...e,observacoes:t})}}},K=e=>{let{children:i}=e;const{editable:t}=b(),{palette:n}=(0,r.A)();return(0,m.jsx)(y,{style:{position:"relative",marginBottom:t?3:D(3),cursor:"pointer","&:hover":{"& .invoice-editable-content-no-data":{opacity:1},"& .editable-marker":{opacity:1,color:"primary.main",backgroundColor:"primary.light",border:"2px dashed ".concat(n.primary.main),boxShadow:"4px 4px 0px rgb(0 0 0 / 4%)"}}},children:i})};t(80847);const Q={display:"flex",flexDirection:"row",alignItems:"center"},$={fontWeight:600},Z=e=>{let{invoiceNumber:i}=e;const{editable:t}=b(),{invoice:n,setInvoice:s}=U();return(0,m.jsx)(y,{style:{backgroundColor:"#F7FBFF",borderRadius:3,padding:t?"16px 20px":"12px 16px"},children:(0,m.jsx)(y,{style:{height:t?26:20,...Q},children:""!=i?(0,m.jsxs)(O,{style:{minWidth:t?"110px":"80px",...$},children:["N\xba de identifica\xe7\xe3o do comprovativo: ",i]}):(0,m.jsx)(O,{style:{minWidth:t?"110px":"80px",...$}})})})},ee=(0,l.memo)(Z);var ie=t(77739),te=t(22505),ne=t(79456);const se=()=>{(0,ne.wA)();const{append:e}=U(),{editable:i}=b(),{palette:t}=(0,r.A)(),s=()=>{e({data:"",inicio:"",fim:"",kmIda:0,kmVolta:0})};return i?(0,m.jsx)(ie.A,{title:"Add invoice item",children:(0,m.jsxs)(n.A,{onClick:s,sx:{mt:2.2,height:44,opacity:.75,width:"100%",cursor:"cell",display:"flex",borderRadius:1,alignItems:"center",backgroundColor:"#F6F9FC",justifyContent:"center",border:"2px dashed rgb(235 235 235)","&:hover":{opacity:1,color:"primary.main",backgroundColor:"primary.light",border:"2px dashed ".concat(t.primary.main),boxShadow:"4px 4px 0px rgb(0 0 0 / 4%)"}},children:[(0,m.jsx)(te.A,{sx:{fontSize:20,mr:1}}),(0,m.jsx)(c.A,{fontWeight:"bold",children:"Adicionar novo tempo"})]})}):null};var re=t(24010),oe=t(23640),le=t(899),ae=t(89302),ce=t(58390);const de={position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"},xe=e=>{let{item:i,index:t,lastItem:n,onChange:s,dispatchAlert:r}=e;const{editable:o}=b(),{remove:a}=U(),[d,x]=(0,l.useState)(new Date(0,0,0,0,0,0,0).toString()),h=e=>{void 0!=s&&s(t,e.target.name,Number(e.target.value))};return(0,m.jsx)(y,{style:{width:"100%",display:"flex",flexWrap:"nowrap",flexDirection:"row",position:"relative",borderBottomLeftRadius:n?3:0,borderBottomRightRadius:n?3:0,padding:o?"10px 18px":"7px 16px",backgroundColor:t%2===0?"#fff":"#F6F9FC","&:hover":{"& .remove-button":{transform:"scale(1)"}}},children:(0,m.jsxs)(ce.$,{dateAdapter:ae.R,adapterLocale:"en-gb",children:[(0,m.jsx)(y,{style:{width:"19%",textAlign:"center",...de},children:(0,m.jsx)(oe.v,{value:i.data,onChange:e=>{return i=e,console.log(i),void(void 0!=i&&void 0!=s&&s(t,"data",new Date(i)));var i},slotProps:{textField:{size:"small"}},format:"DD/MM"})}),(0,m.jsx)(y,{style:{width:"21%",...de},children:(0,m.jsx)(le.Q,{value:i.inicio,format:"HH:mm",onChange:e=>{var i;null!=(i=e)&&void 0!=s&&(s(t,"inicio",i),x(i))},slotProps:{textField:{size:"small"}}})}),(0,m.jsx)(y,{style:{width:"21%",...de},children:(0,m.jsx)(le.Q,{value:i.fim,format:"HH:mm",onBlur:e=>(e=>{if(null!=e&&void 0!=s){let i=Number(e.split(":")[0]),n=Number(e.split(":")[1]),r=new Date;r.setHours(i,n,0,0),r>new Date(d)?s(t,"fim",r.toString()):(alert("Por favor, coloque um tempo final posterior ao inicial!"),s(t,"fim",d))}})(e.target.value),slotProps:{textField:{size:"small"}}})}),(0,m.jsx)(y,{style:{width:"20%",...de},children:(0,m.jsx)(J,{name:"kmIda",multiline:!0,minRows:1,maxRows:1,value:i.kmIda.toString(),onChange:h})}),(0,m.jsx)(y,{style:{width:"21%",...de},children:(0,m.jsx)(J,{name:"kmVolta",multiline:!0,minRows:1,maxRows:1,value:i.kmVolta.toString(),onChange:h})}),o&&(0,m.jsx)(re.A,{onClick:()=>{a(t),void 0!=r&&r(i)},size:"small",color:"error",className:"remove-button",sx:{minHeight:26,height:26,width:26,position:"absolute",top:10,right:-12,transform:"scale(0)",borderRadius:"20px",transition:e=>e.transitions.create(["transform","width"]),"&:hover":{width:85,"& h6":{display:"inline-flex",transform:"scale(1)"}}},children:(0,m.jsx)(ie.A,{title:"Remove item",placement:"top",children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(F.A,{sx:{fontSize:20}}),(0,m.jsx)(c.A,{sx:{transform:"scale(0)",display:"none",textTransform:"capitalize",ml:.5},variant:"subtitle2",children:"Remover"})]})})})]})})},he=e=>{let{title:i}=e;const{editable:t}=b();return(0,m.jsx)(y,{style:{width:"100%",marginBottom:t?"18px":"15px"},children:(0,m.jsx)(O,{variant:"h2",style:{fontWeight:700,lineHeight:1},children:i})})},me={position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},ue=()=>{const{editable:e}=b(),i=(0,m.jsx)(y,{style:{width:"3px",height:18,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,m.jsx)(y,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:"#EEF6FE",padding:"6px 16px",minHeight:e?"48px":"34px"},children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y,{style:{width:"19%",...me},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Data"})]}),(0,m.jsxs)(y,{style:{width:"21%",...me},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"In\xedcio"})]}),(0,m.jsxs)(y,{style:{width:"21%",...me},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Fim"})]}),(0,m.jsxs)(y,{style:{width:"20%",...me},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Ida"})]}),(0,m.jsxs)(y,{style:{width:"21%",...me},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Volta"})]})]})})};var pe=t(50249),je=t(87770);const ge=e=>({type:je.J.invoice_SET_DIALOG_CLIENTE,payload:e}),fe=e=>({type:je.J.invoice_SET_DIALOG_EQUIPAMENTO,payload:e}),ve=e=>({type:je.J.invoice_SET_DIALOG_MATERIAIS,payload:e}),be=e=>({type:je.J.invoice_SET_DIALOG_SERVICOS_EFETUADOS,payload:e}),ye=e=>({type:je.J.invoice_SET_DIALOG_SOLICITACAO_ASSISTENCIA,payload:e}),Ae=e=>({type:je.J.invoice_SET_DIALOG_VALIDACOES,payload:e});var Ce=t(58969),Se=t(68903),we=t(81402);const Ie=()=>{const e=(0,ne.wA)(),{updateCliente:i,invoice:t}=U(),{invoice_openDialogCliente:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.cliente),o=()=>{e(ge(!1))},a=e=>{r({...s,[e.target.name]:e.target.value})},c=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Cliente",onClose:o,onConfirm:c,confirmButtonText:"Guardar Cliente",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.nome,onChange:a,size:"small",margin:"none",name:"nome",label:"Nome"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.morada,onChange:a,size:"small",margin:"none",name:"morada",label:"Morada"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.NIF,onChange:a,size:"small",margin:"none",name:"NIF",label:"NIF"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.email,onChange:a,size:"small",margin:"none",name:"email",label:"E-Mail"})})]})})},De=()=>{const e=(0,ne.wA)(),{updateEquipamento:i,invoice:t}=U(),{invoice_openDialogEquipamento:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.equipamento),o=()=>{e(fe(!1))},a=e=>{r({...s,[e.target.name]:e.target.value})},c=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Equipamento",onClose:o,onConfirm:c,confirmButtonText:"Guardar Equipamento",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.tipologia,onChange:a,size:"small",margin:"none",name:"tipologia",label:"Tipologia ( CNC / Lixadora / Seccionadora / Outro )"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.marca,onChange:a,size:"small",margin:"none",name:"marca",label:"Marca"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.modelo,onChange:a,size:"small",margin:"none",name:"modelo",label:"Modelo"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.matr\u00edcula,onChange:a,size:"small",margin:"none",name:"matr\xedcula",label:"Matr\xedcula"})})]})})};var ke=t(88988);const Ee=()=>{const e=(0,ne.wA)(),{updateSolicitacaoAssistencia:i,invoice:t}=U(),{invoice_openDialogSolicitacaoAssistencia:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.solicitacaoAssistencia),o=()=>{e(ye(!1))},a=e=>{r({...s,[e.target.name]:e.target.value})},c=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Solicita\xe7\xe3o de Assist\xeancia",onClose:o,onConfirm:c,confirmButtonText:"Guardar Solicita\xe7\xe3o de Assist\xeancia",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.nomeRequerente,onChange:a,size:"small",margin:"none",name:"nomeRequerente",label:"Nome do Requerente"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.descricaoPedido,onChange:a,size:"small",margin:"none",name:"descricaoPedido",label:"Descri\xe7\xe3o do Pedido"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsxs)(we.A,{select:!0,fullWidth:!0,id:"demo-simple-select",value:s.realizadoVia,label:"Realizado por Via",onChange:e=>{return i=e,void r({...s,realizadoVia:i.target.value});var i},children:[(0,m.jsx)(ke.A,{value:"Telefone",children:"Telefone"}),(0,m.jsx)(ke.A,{value:"E-Mail",children:"E-Mail"}),(0,m.jsx)(ke.A,{value:"Pessoalmente",children:"Pessoalmente"})]})})]})})},Te=()=>{const e=(0,ne.wA)(),{updateServicosEfetuados:i,invoice:t}=U(),{invoice_openDialogServicosEfetuados:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.servicosEfetuados),o=()=>{e(be(!1))},a=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Servi\xe7os Efetuados",onClose:o,onConfirm:a,confirmButtonText:"Guardar Servi\xe7os Efetuados",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:24,sm:12,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.descricaoServico,onChange:e=>{r({...s,[e.target.name]:e.target.value})},size:"small",margin:"none",name:"descricaoServico",label:"Descri\xe7\xe3o do Servi\xe7o"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsxs)(we.A,{select:!0,fullWidth:!0,value:s.maquinaOperacional,label:"M\xe1quina Operacional",onChange:e=>{return i=e,void r({...s,maquinaOperacional:i.target.value});var i},children:[(0,m.jsx)(ke.A,{value:"Sim",children:"Sim"}),(0,m.jsx)(ke.A,{value:"N\xe3o",children:"N\xe3o"}),(0,m.jsx)(ke.A,{value:"Condicionalmente",children:"Condicionalmente"})]})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsxs)(we.A,{select:!0,fullWidth:!0,value:s.permanecemServicosPendentes,label:"Permanecem Servicos Pendentes?",onChange:e=>{return i=e,void r({...s,permanecemServicosPendentes:i.target.value});var i},children:[(0,m.jsx)(ke.A,{value:"Sim",children:"Sim"}),(0,m.jsx)(ke.A,{value:"N\xe3o",children:"N\xe3o"}),(0,m.jsx)(ke.A,{value:"Outro",children:"Outro"})]})})]})})},Oe=()=>{const e=(0,ne.wA)(),{updateMateriais:i,invoice:t}=U(),{invoice_openDialogMateriais:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.materiais),o=()=>{e(ve(!1))},a=e=>{r({...s,[e.target.name]:e.target.value})},c=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Materiais",onClose:o,onConfirm:c,confirmButtonText:"Guardar Materiais",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.materialAplicado,onChange:a,size:"small",margin:"none",name:"materialAplicado",label:"Material Aplicado"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:12,sm:6,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.materialParaOrcamentar,onChange:a,size:"small",margin:"none",name:"materialParaOrcamentar",label:"Material Para Or\xe7amentar"})})]})})};var We=t(34233);const Me=e=>{let{title:i,subtitle:t,icon:s}=e;return(0,m.jsxs)(n.A,{className:"invoice-editable-content-no-data",sx:{height:72,display:"flex",alignItems:"center",opacity:.5},children:[(0,m.jsx)(n.A,{sx:{mr:2,"& svg":{fontSize:32}},children:s}),(0,m.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[(0,m.jsx)(c.A,{sx:{fontSize:17,height:24,overflow:"hidden"},children:i}),t&&(0,m.jsx)(c.A,{variant:"subtitle1",sx:{maxHeight:24,overflow:"hidden",textOverflow:"ellipsis"},children:t})]})]})},ze=e=>{let{cliente:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsx)(y,{style:{position:"relative",zIndex:1},onClick:t,children:(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[i.nome&&(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Cliente:"})}),(0,m.jsx)(O,{}),i.nome&&(0,m.jsx)(O,{children:i.nome||null}),i.morada&&(0,m.jsx)(O,{children:i.morada||null}),i.NIF&&(0,m.jsx)(O,{children:i.NIF||null}),i.email&&(0,m.jsx)(O,{children:i.email||null})]}):n?(0,m.jsx)(Me,{title:"Cliente",subtitle:"Adicionar detalhes cliente",icon:(0,m.jsx)(We.A,{})}):null}),n&&(0,m.jsx)(X,{})]})},Pe=e=>{let{equipamento:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsx)(y,{style:{position:"relative",zIndex:1},onClick:t,children:(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[i.matr\u00edcula&&(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Equipamento:"})}),(0,m.jsx)(O,{}),i.matr\u00edcula&&(0,m.jsx)(O,{children:i.matr\u00edcula||null}),i.tipologia&&(0,m.jsx)(O,{children:i.tipologia||null}),i.marca&&(0,m.jsx)(O,{children:i.marca||null}),i.modelo&&(0,m.jsx)(O,{children:i.modelo||null})]}):n?(0,m.jsx)(Me,{title:"Equipamento",subtitle:"Adicionar detalhes do equipamento",icon:(0,m.jsx)(We.A,{})}):null}),n&&(0,m.jsx)(X,{})]})},Re=e=>{let{solicitacaoassistencia:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsxs)(y,{style:{position:"relative",zIndex:1},onClick:t,children:[(0,m.jsxs)(V,{children:[" ",(0,m.jsx)("br",{})," "]}),(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[i.nomeRequerente&&(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Solicita\xe7\xe3o de Assist\xeancia"})}),(0,m.jsx)(O,{}),i.nomeRequerente&&(0,m.jsx)(O,{children:i.nomeRequerente||null}),i.descricaoPedido&&(0,m.jsx)(O,{children:i.descricaoPedido||null}),i.realizadoVia&&(0,m.jsx)(O,{children:i.realizadoVia||null})]}):n?(0,m.jsx)(Me,{title:"Solicita\xe7\xe3o de Assist\xeancia",subtitle:"Adicionar detalhes sobre solicita\xe7\xf5es",icon:(0,m.jsx)(We.A,{})}):null]}),n&&(0,m.jsx)(X,{})]})},Be=e=>{let{servicosefetuados:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsx)(y,{style:{position:"relative",zIndex:1},onClick:t,children:(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Servi\xe7os Efetuados"})}),(0,m.jsx)(O,{}),(0,m.jsx)(O,{children:i.descricaoServico||null}),(0,m.jsx)(O,{children:i.maquinaOperacional||null}),(0,m.jsx)(O,{children:i.permanecemServicosPendentes||null})]}):n?(0,m.jsx)(Me,{title:"Servi\xe7os Efetuados",subtitle:"Adicionar detalhes sobre servi\xe7os efetuados",icon:(0,m.jsx)(We.A,{})}):null}),n&&(0,m.jsx)(X,{})]})},Fe=e=>{let{materiais:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsx)(y,{style:{position:"relative",zIndex:1},onClick:t,children:(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Materiais"})}),(0,m.jsx)(O,{}),(0,m.jsx)(O,{children:i.materialAplicado||null}),(0,m.jsx)(O,{children:i.materialParaOrcamentar||null})]}):n?(0,m.jsx)(Me,{title:"Materiais",subtitle:"Adicionar detalhes sobre materiais",icon:(0,m.jsx)(We.A,{})}):null}),n&&(0,m.jsx)(X,{})]})};var Le=t(69525);const _e=e=>{let{validacoes:i,handleOpenDialog:t}=e;const{editable:n}=b();return(0,m.jsxs)(K,{children:[(0,m.jsx)(y,{style:{position:"relative",zIndex:1},onClick:t,children:(e=>{for(const i in e)return null!==e[i]&&""!=e[i]})(i)?(0,m.jsxs)(m.Fragment,{children:[i.nomePessoa&&(0,m.jsx)(y,{children:(0,m.jsx)(O,{variant:"h6",style:{fontWeight:"bold",marginBottom:n?1:D(1)},children:"Valida\xe7\xf5es"})}),(0,m.jsx)(O,{}),(0,m.jsx)(O,{children:i.nomePessoa}),(0,m.jsx)(O,{children:(0,Le.A)(new Date(i.validadoEm),"dd/MM/yyyy")})]}):n?(0,m.jsx)(Me,{title:"Valida\xe7\xf5es",subtitle:"Adicionar detalhes sobre valida\xe7\xf5es",icon:(0,m.jsx)(We.A,{})}):null}),n&&(0,m.jsx)(X,{})]})};var Ne=t(26224);const Ve=()=>{const e=(0,ne.wA)(),{updateValidacoes:i,invoice:t}=U(),{invoice_openDialogValidacoes:n}=(0,Ce.GV)((e=>e.invoice)),[s,r]=(0,l.useState)(t.validacoes),o=()=>{e(Ae(!1))},a=(0,l.useCallback)((()=>{i(s),o()}),[s]);return(0,m.jsx)(N,{maxWidth:"md",disableCloseButton:!0,open:n,title:"Valida\xe7\xf5es",onClose:o,onConfirm:a,confirmButtonText:"Guardar Valida\xe7\xf5es",paperStyles:{width:720},children:(0,m.jsxs)(Se.Ay,{container:!0,spacing:3,children:[(0,m.jsx)(Se.Ay,{item:!0,xs:10,sm:5,children:(0,m.jsx)(we.A,{fullWidth:!0,value:s.nomePessoa,onChange:e=>{r({...s,[e.target.name]:e.target.value})},size:"small",margin:"none",name:"nomePessoa",label:"Nome da Pessoa"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:4,sm:2,children:(0,m.jsx)("div",{style:{height:"30px",lineHeight:"30px"},children:"Validado em:"})}),(0,m.jsx)(Se.Ay,{item:!0,xs:11,sm:5,children:(0,m.jsx)(Ne.T,{value:s.validadoEm,format:"dd/MM/yyyy",slotProps:{textField:{variant:"standard",InputProps:{disableUnderline:!0}}},onChange:e=>{var i;null!=(i=e)&&r({...s,validadoEm:i})}})})]})})},qe=()=>{const e=(0,ne.wA)(),{editable:i}=b(),{invoice:t,handleChangeTempo:n,setInvoice:s}=U(),r=((0,l.useMemo)((()=>{let e=0;return void 0!=t.temposServico&&t.temposServico.forEach((i=>{const t=(new Date(i.fim).getTime()-new Date(i.inicio).getTime())/36e5;e+=t})),e}),[t.temposServico]),i=>{e((0,pe.nc)({show:!0,messages:"Tempo removido com sucesso!",severity:"success"}))});return(0,m.jsx)(C,{children:(0,m.jsxs)(A,{children:[(0,m.jsx)(Ie,{}),(0,m.jsx)(De,{}),(0,m.jsx)(Ee,{}),(0,m.jsx)(Te,{}),(0,m.jsx)(Oe,{}),(0,m.jsx)(Ve,{}),(0,m.jsxs)(w,{children:[(0,m.jsx)(he,{title:"COMPROVATIVO"}),(0,m.jsx)(ee,{invoiceNumber:""}),(0,m.jsx)("br",{}),(0,m.jsxs)(y,{style:{display:"flex",flexDirection:"row",marginBottom:"20px"},children:[(0,m.jsxs)(y,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"20px"},children:[(0,m.jsx)(V,{children:"A preencher:"}),(0,m.jsx)(ze,{cliente:t.cliente,handleOpenDialog:()=>{e(ge(!0))}}),(0,m.jsx)(Pe,{equipamento:t.equipamento,handleOpenDialog:()=>{e(fe(!0))}}),(0,m.jsx)(_e,{validacoes:t.validacoes,handleOpenDialog:()=>{e(Ae(!0))}})]}),(0,m.jsxs)(y,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"20px"},children:[(0,m.jsx)(Re,{solicitacaoassistencia:t.solicitacaoAssistencia,handleOpenDialog:()=>{e(ye(!0))}}),(0,m.jsx)(Fe,{materiais:t.materiais,handleOpenDialog:()=>{e(ve(!0))}}),(0,m.jsx)(Be,{servicosefetuados:t.servicosEfetuados,handleOpenDialog:()=>{e(be(!0))}})]}),(0,m.jsx)("br",{})]}),(0,m.jsxs)(y,{style:{marginBottom:"16px"},children:[(0,m.jsx)("hr",{}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:"Horas de Servi\xe7o a Registar:"}),(0,m.jsx)("br",{}),(0,m.jsx)(ue,{}),Array.isArray(t.temposServico)&&t.temposServico.length>0&&t.temposServico.map(((e,i)=>(0,m.jsx)(xe,{dispatchAlert:r,onChange:n,index:i,item:e,lastItem:t.temposServico.length-1===i},String(i)))),i&&(0,m.jsx)(se,{})]}),(0,m.jsx)("br",{}),(0,m.jsxs)(y,{style:{marginBottom:"16px"},children:[(0,m.jsx)("hr",{}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:"Outro:"}),(0,m.jsx)("br",{}),(0,m.jsx)(we.A,{fullWidth:!0,value:t.observacoes,onChange:e=>{s({...t,observacoes:e.target.value})},size:"medium",margin:"none",name:"observacoes",label:"Observa\xe7\xf5es",multiline:!0,rows:7})]})]})]})})},Ge=e=>{let{children:i}=e;const{editable:t}=b();return t?(0,m.jsx)(c.A,{sx:{letterSpacing:"0.7px",mb:.7,fontWeight:"bold"},children:i}):(0,m.jsx)(O,{style:{letterSpacing:"0.7px",fontWeight:"bold",marginBottom:t?.7:D(.7)},children:i})},He={position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"},Je=e=>{let{item:i,index:t}=e;const{editable:n}=b(),s=(0,m.jsx)(y,{style:{width:"1px",height:12,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,m.jsx)(y,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:t%2===0?"#fff":"#F6F9FC",padding:"6px 16px",minHeight:n?"48px":"34px"},children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y,{style:{width:"21%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(i.data).toLocaleDateString()})]}),(0,m.jsxs)(y,{style:{width:"14%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(i.inicio).toLocaleTimeString()})]}),(0,m.jsxs)(y,{style:{width:"14%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:new Date(i.fim).toLocaleTimeString()})]}),(0,m.jsxs)(y,{style:{width:"16%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:Math.round((new Date(i.fim).valueOf()-new Date(i.inicio).valueOf())/1e3/60/60*2)/2})]}),(0,m.jsxs)(y,{style:{width:"17%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:i.kmIda})]}),(0,m.jsxs)(y,{style:{width:"18%",...He},children:[s,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:i.kmVolta})]})]})})},Xe={position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},Ye=()=>{const{editable:e}=b(),i=(0,m.jsx)(y,{style:{width:"1px",height:18,backgroundColor:"#dfe5ec",position:"absolute",left:0}});return(0,m.jsx)(y,{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:3,borderTopLeftRadius:3,justifyContent:"flex-start",backgroundColor:"#EEF6FE",padding:"6px 16px",minHeight:e?"48px":"34px"},children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y,{style:{width:"21%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Data"})]}),(0,m.jsxs)(y,{style:{width:"14%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"In\xedcio"})]}),(0,m.jsxs)(y,{style:{width:"14%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Fim"})]}),(0,m.jsxs)(y,{style:{width:"16%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Horas"})]}),(0,m.jsxs)(y,{style:{width:"17%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Ida"})]}),(0,m.jsxs)(y,{style:{width:"18%",...Xe},children:[i,(0,m.jsx)(O,{style:{fontWeight:600,marginLeft:"12px"},children:"Km Volta"})]})]})})},Ue=e=>{let{invoice:i}=e;(0,l.useMemo)((()=>{let e=0;return void 0!=i.temposServico&&i.temposServico.forEach((i=>{const t=(new Date(i.fim).getTime()-new Date(i.inicio).getTime())/36e5;e+=t})),e}),[i.temposServico]);return(0,m.jsx)(C,{children:(0,m.jsx)(A,{children:(0,m.jsxs)(w,{children:[(0,m.jsx)(he,{title:"COMPROVATIVO"}),(0,m.jsx)(ee,{invoiceNumber:localStorage.getItem("count")}),(0,m.jsx)(V,{children:" "}),(0,m.jsx)("br",{}),(0,m.jsxs)(y,{style:{display:"flex",flexDirection:"row",marginBottom:"20px"},children:[(0,m.jsxs)(y,{style:{display:"flex",flex:1,flexDirection:"column",marginLeft:"20px"},children:[(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:"Cliente"}),(0,m.jsxs)(Ge,{children:["Nome: ",i.cliente.nome]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["NIF: ",i.cliente.NIF]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Morada: ",i.cliente.morada]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["E-Mail: ",i.cliente.email]}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:" "}),(0,m.jsx)(V,{children:"Equipamento"}),(0,m.jsxs)(Ge,{children:["Tipologia: ",i.equipamento.tipologia]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Marca: ",i.equipamento.marca]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Modelo: ",i.equipamento.modelo]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Matr\xedcula: ",i.equipamento.matr\u00edcula]}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:" "}),(0,m.jsx)(V,{children:"Solicita\xe7\xe3o de Assist\xeancia"}),(0,m.jsxs)(Ge,{children:["Pedido realizado por via: ",i.solicitacaoAssistencia.realizadoVia]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Nome do Requerente: ",i.solicitacaoAssistencia.nomeRequerente]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Descri\xe7\xe3o do Pedido: ",i.solicitacaoAssistencia.descricaoPedido]}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:" "}),(0,m.jsx)(V,{children:"Servi\xe7os Efetuados"}),(0,m.jsxs)(Ge,{children:["Descri\xe7\xe3o do Servi\xe7o: ",i.servicosEfetuados.descricaoServico]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Permanecem Servi\xe7os Pendentes: ",i.servicosEfetuados.permanecemServicosPendentes]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["M\xe1quina Operacional: ",i.servicosEfetuados.maquinaOperacional]}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:" "}),(0,m.jsx)(V,{children:"Materiais"}),(0,m.jsxs)(Ge,{children:["Material Aplicado: ",i.materiais.materialAplicado]}),(0,m.jsx)("br",{}),(0,m.jsxs)(Ge,{children:["Material para or\xe7amentar: ",i.materiais.materialParaOrcamentar]}),(0,m.jsx)("br",{})]}),(0,m.jsx)("br",{})]}),(0,m.jsxs)(y,{style:{marginBottom:"16px"},children:[(0,m.jsx)("hr",{}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:"Horas de Servi\xe7o a Registar:"}),(0,m.jsx)("br",{}),(0,m.jsx)(Ye,{}),Array.isArray(i.temposServico)&&i.temposServico.length>0&&i.temposServico.map(((e,i)=>(0,m.jsx)(Je,{index:i,item:e})))]}),(0,m.jsx)("br",{}),(0,m.jsxs)(y,{style:{marginBottom:"16px"},children:[(0,m.jsx)("hr",{}),(0,m.jsx)("br",{}),(0,m.jsx)(V,{children:"Observa\xe7\xf5es:"}),(0,m.jsx)(Ge,{children:i.observacoes}),(0,m.jsx)("br",{})]})]})})})};var Ke=t(63336);const Qe="210mm",$e="297mm",Ze=e=>{let{children:i,sx:t}=e;return(0,m.jsx)(Ke.A,{sx:{width:{xs:"100%",md:Qe},minHeight:{xs:"unset",md:$e},...t},children:i})};var ei=t(2645);const ii=e=>{let{sx:i}=e;return(0,m.jsxs)(Ke.A,{sx:{flex:1,width:"95%",minHeight:365,display:"flex",alignItems:"center",justifyContent:"start",flexDirection:"column",...i},children:[(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)(ei.A,{sx:{color:"text.disabled",fontSize:42,mb:2}}),(0,m.jsx)(c.A,{sx:{color:"text.disabled",fontSize:16},children:"Op\xe7\xf5es"})]})};var ti=t(41132),ni=t(75678),si=t(80360),ri=t(94329),oi=t(77154);const li=e=>{let{invoice:i}=e;return(0,m.jsx)(Ue,{invoice:i})},ai=50,ci=e=>{let{setInvoice:i}=e;const{invoice_data:t}=(0,Ce.GV)((e=>e.invoice)),{invoice:s}=U(),[r,o]=(0,f.cQ)({document:t?(0,m.jsx)(li,{invoice:s}):(0,m.jsx)(f.yo,{children:(0,m.jsx)(f.YW,{children:(0,m.jsx)(f.EY,{children:"Opss..."})})})});(0,l.useEffect)((()=>{const e=setInterval((()=>{i(s),o((0,m.jsx)(li,{invoice:s}))}),2e3);return()=>clearInterval(e)}),[s]);return(0,l.useEffect)((()=>{t||i(s)}),[t]),(0,m.jsx)(v.P.Provider,{value:{editable:!1,debug:!0},children:(0,m.jsx)(n.A,{sx:{ml:-3,flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"start",flexDirection:"column",top:-220},children:r.error?(0,m.jsxs)(B.A,{color:"error",startIcon:(0,m.jsx)(F.A,{}),children:["Erro",(0,m.jsx)("br",{}),r.error.toString()]}):!r.loading&&(0,m.jsxs)("div",{children:[(0,m.jsxs)(d.A,{sx:{backgroundColor:"#7fa91b",border:"3px solid #fff",height:ai,width:ai,borderRadius:"".concat(ai,"px"),transition:e=>e.transitions.create(["width"]),textAlign:"center",overflow:"hidden","& .MuiTypography-root":{transform:"translateX(150px)",transition:e=>e.transitions.create(["transform","width"]),fontSize:0},"&:hover":{backgroundColor:"#7fa91b",width:180,"& .MuiTypography-root":{transform:"translateX(0px)",fontSize:13},"& svg":{mr:2}}},onClick:()=>{i(s),o((0,m.jsx)(li,{invoice:s}))},children:[(0,m.jsx)(ri.A,{sx:{color:"secondary.contrastText",fontSize:26}}),(0,m.jsx)(c.A,{sx:{color:"secondary.contrastText",fontWeight:"bold"},children:"Guardar"})]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsxs)(d.A,{sx:{backgroundColor:"secondary.main",border:"3px solid #fff",height:ai,width:ai,borderRadius:"".concat(ai,"px"),transition:e=>e.transitions.create(["width"]),textAlign:"center",overflow:"hidden","& .MuiTypography-root":{transform:"translateX(150px)",transition:e=>e.transitions.create(["transform","width"]),fontSize:0},"&:hover":{backgroundColor:"secondary.main",width:180,"& .MuiTypography-root":{transform:"translateX(0px)",fontSize:13},"& svg":{mr:2}}},onClick:()=>{var e;const n=localStorage.getItem("count");if(n){let e=Number(n)+1;localStorage.setItem("count",e.toString())}else localStorage.setItem("count","1");i(s),(0,si.wait)(5e3),o((0,m.jsx)(li,{invoice:s})),(0,si.wait)(5e3),fetch(String(r.url),{method:"GET",headers:{"Content-Type":(null===(e=r.blob)||void 0===e?void 0:e.type)||"application/pdf"}}).then((e=>e.blob())).then((e=>{var i;const n=window.URL.createObjectURL(new Blob([e])),s=document.createElement("a");s.href=n;const r=t.fileName?"".concat(t.fileName,"_").concat((0,Le.A)(new Date(t.date),"dd/MM/yyyy")," + .pdf"):"invoice_".concat((0,Le.A)(new Date(t.date),"dd/MM/yyyy"),".pdf");s.setAttribute("download",r),document.body.appendChild(s),s.click(),null===(i=s.parentNode)||void 0===i||i.removeChild(s)}))},children:[(0,m.jsx)(ti.A,{sx:{color:"secondary.contrastText",fontSize:26}}),(0,m.jsx)(c.A,{sx:{color:"secondary.contrastText",fontWeight:"bold"},children:"Download PDF"})]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsxs)(d.A,{sx:{backgroundColor:"#a91b38",border:"3px solid #fff",height:ai,width:ai,borderRadius:"".concat(ai,"px"),transition:e=>e.transitions.create(["width"]),textAlign:"center",overflow:"hidden","& .MuiTypography-root":{transform:"translateX(150px)",transition:e=>e.transitions.create(["transform","width"]),fontSize:0},"&:hover":{backgroundColor:"#a91b38",width:180,"& .MuiTypography-root":{transform:"translateX(0px)",fontSize:13},"& svg":{mr:2}}},onClick:()=>{var e;const n=localStorage.getItem("count");if(n){let e=Number(n)+1;localStorage.setItem("count",e.toString())}else localStorage.setItem("count","1");i(s),(0,si.wait)(5e3),o((0,m.jsx)(li,{invoice:s})),(0,si.wait)(5e3);const l=t.fileName?"".concat(t.fileName,"_").concat((0,Le.A)(new Date(t.date),"dd_MM_yyyy")," + .pdf"):"invoice_".concat((0,Le.A)(new Date(t.date),"dd_MM_yyyy"),".pdf");fetch(String(r.url),{method:"GET",headers:{"Content-Type":(null===(e=r.blob)||void 0===e?void 0:e.type)||"application/pdf"}}).then((e=>e.blob())).then((e=>{var i=new File([e],l);console.log(l);const t=new FormData;t.append("file",i),t.append("email","miguelbrunopaiva.silva@gmail.com");oi.A.post("https://mailsender-tau.vercel.app/sendPdf",t).then((e=>{console.log(e),alert(e.data)}))}))},children:[(0,m.jsx)(ni.A,{sx:{color:"secondary.contrastText",fontSize:26}}),(0,m.jsx)(c.A,{sx:{color:"secondary.contrastText",fontWeight:"bold"},children:"Enviar Registo"})]})]})})})},di=e=>{let{children:i,editable:t,debug:n}=e;return(0,m.jsx)(v.P.Provider,{value:{editable:t,debug:n},children:i})},xi=()=>{const e=(0,ne.wA)();return(0,m.jsx)(g,{children:(0,m.jsxs)(n.A,{sx:{display:"flex",flexWrap:"wrap"},children:[(0,m.jsx)(Ze,{children:(0,m.jsx)(di,{editable:!0,debug:!1,children:(0,m.jsx)(qe,{})})}),(0,m.jsxs)(n.A,{sx:{ml:4,flex:4,position:"relative"},children:[(0,m.jsx)(ii,{}),(0,m.jsx)(ci,{setInvoice:i=>{return e((t=i,{type:je.J.invoice_SET_INVOICE,payload:t}));var t}})]})]})})}},50477:()=>{},42634:()=>{}}]);
//# sourceMappingURL=406.dcb23b5b.chunk.js.map